---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
let _images = import.meta.glob("/src/assets/*.jpg", { eager: true });
const images = Object.values(_images).map((mod) => mod.default);
images.sort((a, b) => {
  return b.src.localeCompare(a.src);
});
const heroImage = Object.values(
  import.meta.glob("/src/assets/MDG_garden-sign_01.png", {
    eager: true,
  }),
).map((mod) => mod.default)[0];
const mapbox1 = Object.values(
  import.meta.glob("/src/assets/img/maps/mapbox1.png", {
    eager: true,
  }),
).map((mod) => mod.default)[0];
---

<Layout>
  <!-- Hero Section -->
  <div class="relative w-full">
    <Image
      src={heroImage}
      alt="Community Garden"
      class="px-8 object-contain max-w-[400px] mx-auto bg-white py-8 h-full"
    />
  </div>

  <!-- About Section -->
  <div class="bg-white pt-2 pb-8">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold text-garden-green mb-6">
        About Our Garden
      </h2>
      <p class="text-lg text-gray-700 mb-8">
        The McCarren Park Demonstration Garden was a ~$1M project developed
        between GrowNYC and the Greenpoint Community Environmental Fund in 2015.
        Since 2022, the garden has been stewarded as a collaboration between
        GrowNYC and North Brooklyn Mutual Aid with programming based on
        community planning sessions. In that time, weâ€™ve...
        <ul class="list-disc list-inside text-left">
          <li>
            Donated 2,400 lbs of fresh veggies to free fridges with over grew
            90+ varieties of plants
          </li>
          <li>
            Hosted and participated in over 50 free events on eco education and
            community building
          </li>
          <li>
            Opened for gardening hours 3-4 days a week for 8 months of the year
          </li>
          <li>
            Engaged 560 volunteer sign ups and 2.8K followers on Instagram
          </li>
          <li>Raised $14K for North Brooklyn Mutual Aid</li>
        </ul>
      </p>
      <!-- <div class="grid grid-cols-3 gap-4 text-center">
        <div>
          <p class="text-3xl font-bold text-garden-green">50+</p>
          <p class="text-gray-600">Active Members</p>
        </div>
        <div>
          <p class="text-3xl font-bold text-garden-green">100</p>
          <p class="text-gray-600">Garden Plots</p>
        </div>
        <div>
          <p class="text-3xl font-bold text-garden-green">12</p>
          <p class="text-gray-600">Monthly Events</p>
        </div>
      </div> -->
    </div>
  </div>

  <!-- Image Gallery -->
  <div class="bg-gray-50 py-12">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex space-x-4 overflow-x-auto">
        {
          images.map((path) => (
            <Image
              src={path}
              width={400}
              height={400}
              alt="instagram photo"
              class="w-48 h-48 object-cover rounded-lg shadow-md flex-shrink-0"
            />
          ))
        }
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div
    class="min-h-screen bg-gradient-to-b from-garden-green to-leaf px-4 pt-16"
  >
    <div class="max-w-2xl mx-auto">
      <!-- Social Links -->
      <!-- <div class="flex justify-center space-x-4 mb-12">
        <a
          href="http://instagram.com/mccarrendemogarden/"
          class="text-white hover:text-green-200"
        >
          <svg
            class="w-6 h-6"
            fill="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"
              clip-rule="evenodd"></path>
          </svg>
        </a>
        <a href="https://slack.com" class="text-white hover:text-green-200">
          <svg
            class="w-6 h-6"
            fill="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M5.1 15.9c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2h2v2zm1 0c0-1.1.9-2 2-2s2 .9 2 2v5.1c0 1.1-.9 2-2 2s-2-.9-2-2V15.9zm2-10.8c0-1.1.9-2 2-2s2 .9 2 2v2h-2c-1.1 0-2-.9-2-2zm0 1c-1.1 0-2 .9-2 2s.9 2 2 2h5.1c1.1 0 2-.9 2-2s-.9-2-2-2H8.1zm10.8 2c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2v2h2zm-1 0c0 1.1-.9 2-2 2s-2-.9-2-2V5.1c0-1.1.9-2 2-2s2 .9 2 2V8.1zm-2 10.8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2v-2h2zm0-1c0-1.1.9-2 2-2s2 .9 2 2v5.1c0 1.1-.9 2-2 2s-2-.9-2-2V17.9z"
              clip-rule="evenodd"></path>
          </svg>
        </a>
      </div> -->

      <!-- Links Section -->
      <div class="space-y-4">
        <a
          href="https://docs.google.com/document/d/1jRYqglmPRjCGxLIhoPQzQApvLKHElvUfJz6Uus10ors/edit?tab=t.0"
          class="block bg-white bg-opacity-10 hover:bg-opacity-20 text-white p-4 rounded-xl backdrop-blur-sm border border-white border-opacity-20 transition-all transform hover:scale-[1.02]"
        >
          <div class="flex items-center">
            <span class="text-lg font-medium">FAQ and Start Guide</span>
          </div>
        </a>

        <a
          href="https://airtable.com/app5nMTvpXuuhRz8Y/shrZDcxqACpuOo4dA"
          class="block bg-white bg-opacity-10 hover:bg-opacity-20 text-white p-4 rounded-xl backdrop-blur-sm border border-white border-opacity-20 transition-all transform hover:scale-[1.02]"
        >
          <div class="flex items-center">
            <!-- <svg
              class="w-6 h-6 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064"
              ></path>
            </svg> -->
            <span class="text-lg font-medium">Volunteer</span>
          </div>
        </a>

        <a
          href="https://www.grownyc.org/waiver"
          class="block bg-white bg-opacity-10 hover:bg-opacity-20 text-white p-4 rounded-xl backdrop-blur-sm border border-white border-opacity-20 transition-all transform hover:scale-[1.02]"
        >
          <div class="flex items-center">
            <span class="text-lg font-medium">Volunteer Waiver</span>
          </div>
        </a>

        <a
          href="https://hcb.hackclub.com/donations/start/north-brooklyn-mutual-aid"
          class="block bg-white bg-opacity-10 hover:bg-opacity-20 text-white p-4 rounded-xl backdrop-blur-sm border border-white border-opacity-20 transition-all transform hover:scale-[1.02]"
        >
          <div class="flex items-center">
            <span class="text-lg font-medium">Donate</span>
          </div>
        </a>
      </div>

      <!-- Footer -->
      <footer class="mt-12 text-center text-white text-sm">
        <!-- src="https://api.mapbox.com/styles/v1/mapbox/outdoors-v12/static/pin-l-garden+EA4335(-73.949,40.72065)/-73.9517,40.7209,14.4,0/800x250@2x?access_token=pk.eyJ1IjoiZGN0YWxib3QiLCJhIjoiY2oyZTA1M2YyMDRzbjJxczVkNTAzOGxlbCJ9.d4nW2fje4KFA7TPNJoH8FA&logo=false" -->

        <Image
          alt="Community Garden"
          src={mapbox1}
          width={800}
          height={250}
          class="rounded-xl"
          onerror="this.style.display='none'"
        />
      </footer>
    </div>
  </div>

  <div
    id="veg-background"
    style="height: 100vh; width: 100vw; position: absolute; top: 0; left: 0; z-index: -1;"
  >
  </div>
</Layout>

<script>
  if (window.innerWidth > 700) {
    for (let i = 0; i < 50; i++) {
      const img = document.createElement("img");
      img.style.animation = "rotate-cute 2s infinite ease-in-out";

      const style = document.createElement("style");
      style.textContent = `
        @keyframes rotate-cute {
        0%, 100% {
          transform: rotate(-10deg);
        }
        50% {
          transform: rotate(10deg);
        }
        }
      `;
      document.head.appendChild(style);

      img.src = "/img/veg/broccoli.png";
      const vegImages = [
        "/img/veg/broccoli.png",
        "/img/veg/butternut-squash.webp",
        "/img/veg/carrot.png",
        "/img/veg/collards.png",
        "/img/veg/corn.png",
        "/img/veg/cucumber.png",
        "/img/veg/greenbean.png",
        "/img/veg/kale.png",
        "/img/veg/parsley.webp",
        "/img/veg/shishito.png",
        "/img/veg/strawberry.webp",
        "/img/veg/tomato.png",
      ];
      img.src = vegImages[Math.floor(Math.random() * vegImages.length)];
      img.addEventListener("mouseover", () => {
        img.src = vegImages[Math.floor(Math.random() * vegImages.length)];
      });
      img.style.objectFit = "contain";
      img.style.position = "relative";
      img.style.display = "inline-block";
      img.style.width = "100px";
      img.style.height = "100px";
      img.style.padding = "10px";
      document.getElementById("veg-background").appendChild(img);
    }
  }
</script>
